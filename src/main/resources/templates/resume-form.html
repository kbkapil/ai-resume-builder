<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Resume - AI Resume Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .form-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">AI Resume Builder</a>
        </div>
    </nav>
  
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h2 class="mb-0">Create Your Resume</h2>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/generate}" method="post" th:object="${resume}">
                            <div th:if="${error}" class="alert alert-danger" role="alert">
                                <span th:text="${error}"></span>
                            </div>
                              <!-- Template Selection -->
                            <div class="form-section">
                                <h4>Resume Template</h4>
                                <div class="mb-3">
                                    <p class="text-muted">Choose a template for your resume design. You can select from various professional templates.</p>
                                    <a href="/templates" class="btn btn-outline-primary" target="_blank">
                                        <svg width="16" height="16" fill="currentColor" class="me-2">
                                            <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .5.5h.5a.5.5 0 0 0 .5-.5V3.5a.5.5 0 0 0-.5-.5z"/>
                                            <path d="M7.5 6.5a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zM6 5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1H6z"/>
                                        </svg>
                                        Choose Template (opens in new tab)
                                    </a>
                                    <input type="hidden" name="template" th:field="*{template}">
                                    <small class="text-muted d-block mt-2">Current template: <span th:text="${resume.template}">Professional</span></small>
                                </div>
                            </div>


                            <!-- Basic Information -->
                            <div class="form-section">
                                <h4>Basic Information</h4>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="name" class="form-label">Full Name *</label>
                                        <input type="text" class="form-control" id="name" th:field="*{name}"
                                               placeholder="Enter your full name">
                                        <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger small"></div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="email" class="form-label">Email *</label>
                                        <input type="email" class="form-control" id="email" th:field="*{email}"
                                               placeholder="your.email@example.com">
                                        <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger small"></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="phone" class="form-label">Phone Number *</label>
                                        <input type="tel" class="form-control" id="phone" th:field="*{phone}"
                                               placeholder="+1 (555) 123-4567">
                                        <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger small"></div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="address" class="form-label">Address</label>
                                        <input type="text" class="form-control" id="address" th:field="*{address}"
                                               placeholder="City, State, ZIP Code">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="githubLink" class="form-label">GitHub Profile</label>
                                        <input type="url" class="form-control" id="githubLink" th:field="*{githubLink}"
                                               placeholder="https://github.com/username">
                                        <small class="text-muted">Optional: Your GitHub profile URL</small>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="linkedinLink" class="form-label">LinkedIn Profile</label>
                                        <input type="url" class="form-control" id="linkedinLink" th:field="*{linkedinLink}"
                                               placeholder="https://linkedin.com/in/username">
                                        <small class="text-muted">Optional: Your LinkedIn profile URL</small>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="targetJobRole" class="form-label">Target Job Role *</label>
                                    <input type="text" class="form-control" id="targetJobRole" th:field="*{targetJobRole}"
                                           placeholder="e.g., Software Engineer, Marketing Manager">
                                    <div th:if="${#fields.hasErrors('targetJobRole')}" th:errors="*{targetJobRole}" class="text-danger small"></div>
                                </div>
                            </div>

                            <!-- Summary -->
                            <div class="form-section">
                                <h4>Professional Summary</h4>
                                <div class="mb-3">
                                    <label for="summary" class="form-label">Summary (Optional - AI will generate if left empty)</label>
                                    <textarea class="form-control" id="summary" th:field="*{summary}" rows="4"
                                              placeholder="Brief description of your professional background and career objectives..."></textarea>
                                </div>
                            </div>

                            <!-- Skills -->
                            <div class="form-section">
                                <h4>Skills</h4>
                                <div class="mb-3">
                                    <label for="skills" class="form-label">Skills (Optional - AI will enhance if provided)</label>
                                    <textarea class="form-control" id="skills" th:field="*{skills}" rows="4"
                                              placeholder="List your technical and soft skills... e.g., Java, Python, Leadership, Project Management"></textarea>
                                </div>
                            </div>

                            <!-- Experience -->
                            <div class="form-section">
                                <h4>Work Experience</h4>
                                <div class="mb-3">
                                    <small class="text-muted">Add your work experience details. AI will enhance descriptions if provided.</small>
                                </div>
                                <!-- Experience entries would be added here in a full implementation -->
                                <div class="text-center">
                                    <button type="button" class="btn btn-outline-primary" onclick="addExperience()">
                                        + Add Experience
                                    </button>
                                </div>
                            </div>

                            <!-- Education -->
                            <div class="form-section">
                                <h4>Education</h4>
                                <div class="mb-3">
                                    <small class="text-muted">Add your educational background.</small>
                                </div>
                                <!-- Education entries would be added here in a full implementation -->
                                <div class="text-center">
                                    <button type="button" class="btn btn-outline-primary" onclick="addEducation()">
                                        + Add Education
                                    </button>
                                </div>
                            </div>

                            <!-- Achievements -->
                            <div class="form-section">
                                <h4>Achievements</h4>
                                <div class="mb-3">
                                    <label for="achievements" class="form-label">Key Achievements (Optional)</label>
                                    <textarea class="form-control" id="achievements" th:field="*{achievements}" rows="3"
                                              placeholder="List your notable achievements, awards, or certifications..."></textarea>
                                </div>
                            </div>
                                

                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <a href="/" class="btn btn-secondary me-md-2">Cancel</a>
                                <button type="submit" class="btn btn-primary">
                                    <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true" style="display: none;"></span>
                                    Generate Resume
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function addExperience() {
            alert('Experience form would be implemented here in a full version');
        }

        function addEducation() {
            alert('Education form would be implemented here in a full version');
        }

        // Show loading spinner on form submit
        document.querySelector('form').addEventListener('submit', function() {
            const submitBtn = this.querySelector('button[type="submit"]');
            const spinner = submitBtn.querySelector('.spinner-border');
            spinner.style.display = 'inline-block';
            submitBtn.disabled = true;
        });
    </script>
</body>
</html>
